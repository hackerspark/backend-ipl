{"version":3,"file":"websocket.js","sources":["../src/websocket.js"],"sourcesContent":["// const WebSocket = require('ws');\n\n// const wss = new WebSocket.Server({ port: 8999 });\n\n// wss.on('connection', function connection(ws) {\n//   ws.on('message', function incoming(message) {\n//     console.log('received: %s', message);\n//   });\n\n//   ws.send('something');\n// });\n\n\n\nconst WebSocket = require('ws');\n\nconst wss = new WebSocket.Server({ port: 8999 });\n\nwss.on('connection', function connection(ws) {\n  ws.onmessage = (message) => {\n  \tconsole.log('received: %s', message);\n    updateClients(message.data);\n  };\n});\n\nconst updateClients = (message) => {\n  wss.clients.forEach(function each(client) {\n    if (client.readyState === WebSocket.OPEN) {\n      client.send(message);\n    }\n  });\n};"],"names":[],"mappings":";;;;;EAAA;AACA;EACA;AACA;EACA;EACA;EACA;EACA;AACA;EACA;EACA;AACA;AACA;AACA;EACA,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AAChC;EACA,MAAM,GAAG,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AACjD;EACA,GAAG,CAAC,EAAE,CAAC,YAAY,EAAE,SAAS,UAAU,CAAC,EAAE,EAAE;EAC7C,EAAE,EAAE,CAAC,SAAS,GAAG,CAAC,OAAO,KAAK;EAC9B,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;EACxC,IAAI,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EAChC,GAAG,CAAC;EACJ,CAAC,CAAC,CAAC;AACH;EACA,MAAM,aAAa,GAAG,CAAC,OAAO,KAAK;EACnC,EAAE,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,MAAM,EAAE;EAC5C,IAAI,IAAI,MAAM,CAAC,UAAU,KAAK,SAAS,CAAC,IAAI,EAAE;EAC9C,MAAM,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EAC3B,KAAK;EACL,GAAG,CAAC,CAAC;EACL,CAAC;;;;"}